<h1>site-scanning-dashboard-11ty</h1>
<p>Proof of concept for a simple yet customizable JS-based site scanner dashboard.</p>
<h1>Site Scanning Dashboard (11ty)</h1>
<p>This repo contains a simple, easy-to-run <a href="https://www.11ty.dev/">11ty-based</a> site tha will display
the output from
<a href="https://github.com/18F/site-scanning">site-scanning</a> scans.</p>
<p>It can be built and viewed locally, pushed up to federalist, or deployed on cloud.gov.</p>
<p>This site currently is hardcoded to display the scan results for TTS domains, but
you can customize the domain list in the <code>config.yml</code> file, along with other site settings (see &quot;Customization&quot; below).</p>
<p>Note that it only pulls down scan results whenever
you build or serve the site, so if you are deploying this through CI/CD, you will want to build/deploy this once a day to ensure that it has the latest scan results.</p>
<h2>How to view it locally</h2>
<ul>
<li>Go into the <code>site-scanning-dashboard-11ty</code> repo.</li>
<li>Run the command <code>eleventy --serve</code></li>
<li>If you see a Node or NPM error, they're not installed on your machine. You can install Node from the command line, with installers such as Homebrew, or with a download. However you want to do it, once you've <a href="https://nodejs.org/en/download/">installed Node</a>, try again and eleventy should work.</li>
</ul>
<p>Once it gets done building, you can look at
<a href="http://localhost:8080">http://localhost:8080</a> and see the site.</p>
<h2>How to deploy it to cloud.gov or some other Cloud Foundry instance</h2>
<h3>TBD</h3>
<h2>How to deploy it to Federalist</h2>
<h3>TO-DO: Ensure this is working as described.</h3>
<p><a href="https://federalist.18f.gov">Federalist</a> is a system that deploys static websites
for government.</p>
<ul>
<li><a href="https://help.github.com/en/articles/fork-a-repo">Fork this repo</a> and, if
desired, edit the list of domains to display in your fork.</li>
<li>Get authorized to use federalist.  <a href="https://federalist.18f.gov/contact/">Contact</a>
the Federalist using email or their google form on their <a href="https://federalist.18f.gov/contact/">Contact page</a>.</li>
<li>Go to the <a href="https://federalistapp.18f.gov/sites">Sites</a> page in the federalist app
and click on <code>+Add site</code>, and add your forked github repo.</li>
<li>Click on the site, and click on <code>Site settings</code> in the navbar on the left.  Click on
<code>Advanced settings</code>, and add <code>schedule: nightly</code> to the Live site Site configuration
text field.
This will ensure that the site will be redeployed every day, so that it pulls down the
latest and greatest scan data.</li>
<li>You can consult the <a href="https://federalist.18f.gov/documentation/launch-checklist/">Federalist Launch Checklist</a>
for information on how to set up a custom domain name, or you can just go to
the <a href="https://federalistapp.18f.gov/sites">sites</a> page and click on <code>View site</code>
to get to your site.</li>
</ul>
<p>Viola!  The site should deploy and keep itself up to date.</p>
<h2>Customization</h2>
<p>All settings live in <code>_data/config.yml</code> and can be modified as you please. Current settings include</p>
<ul>
<li>agency: Your agency name</li>
<li>site_title: The name you would like to give your dashboard</li>
<li>description: A description of your dashboard</li>
<li>scans: A list of which scans to perform</li>
<li>domainlist: the domains you'd like to scan</li>
<li>google_analytics_ua: Your Google analystics token, if you want analytics on your dashboard.</li>
</ul>
<h3>How to edit the list of domains to display</h3>
<p>The <code>_data/config.yml</code> file has a list of domains called <code>domainlist</code>.  Change
that list to suit your needs.</p>
<p>Once you have updated these, you will need to do a build/deploy to see the
changes.</p>
<h2>How to edit where the site-scanner site lives</h2>
<p>Right now this is hardcoded to a temporary location.  You can configure
this by editing the <code>_data/config.yml</code> file and setting the <code>scanner_url</code>
to be the new location.  Make sure there is a <code>/</code> at the end of the URL.</p>
<p>Once you have updated these, you will need to do a build/deploy to see the
changes.</p>
<p>Have fun!</p>
